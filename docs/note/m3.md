---
title:  git操作
date: 2020-10-10
categories: 
 - 其他
---

<Boxx type='tip' />
## git有什么用？
1. 版本控制
2. 多人协作 [推荐阅读](https://blog.csdn.net/wangliang888888/article/details/80536277)

git的基本操作        
![xx](../../img/git1.jpg)

## git clone
git clone 使用较多，通常是从远程仓库克隆一个版本库。                
在终端写下面代码即可克隆远程仓库的某个分支
```
git clone -b <指定分支名> <远程仓库地址>
```

## git remote
为了便于管理，Git要求每个远程仓库都必须指定一个仓库名。git remote命令就用于管理仓库名。          
不带选项的时候，git remote命令列出所有远程仓库。一个本地仓库可以添加多个远程仓库。             
- 查看远程仓库
```
git remote
// origin
```
- 远程仓库网址
```
git remote -v
```
- 添加远程仓库
```
git remote add <仓库名> <远程仓库地址>
```
- 删除远程仓库连接
```
git remote rm <仓库名>
```

- 修改远程仓库的名字
```
git remote rename <原仓库名> <新仓库名>
```

## git fetch
```git fetch ``` 命令通常用来**查看其他人的进程**，因为它取回的代码对你本地的开发代码没有影响。在多人协作开发时使用较多，主要是查看远程仓库更新，先拉取到本地，再查看是否与自己的代码冲突，**若无冲突就合并到自己的本地分支，若冲突则手动解决后合并分支。**
```
git fetch <远程主机名> <分支名>

// 不写分支名时，将取回所有分支的更新
```
- 查看更新
```
git log -p FETCH_HEAD
```

## git branch
:strawberry: **分支的操作和一些概念**
- 合并分支（重要） [参考链接](https://www.cnblogs.com/panxuejun/p/7009195.html)     
```git merge``` 命令用于合并**指定分支到当前分支**  * 3,
因为创建、合并和删除分支非常快，所以Git鼓励你使用分支完成某个任务，合并后再删掉分支，这和直接在master分支上工作效果是一样的，但过程更安全。         
创建分支是依照master分支创建的（例如 dev ），-> 修改dev分支，-> 合并到master分支（实际上是将master指向dev的当前提交） -> 删除dev分支     

:chestnut: 举个例子：     
1, 创建并切换到dev分支 ```git branch -b dev```  （从未提交过的仓库不存在任何分支）             
2, 在dev分支上修改内容（例如添加 test.html 文件）          
3, commit修改 ``` git add test.html ```,```git commit -m "add test.html" ```         
4, 切换到master分支 ``` git checkout master ``` (发现master中并没有 test.html, 即master不会被修改)          
5, 合并分支 ```git merge dev ``` ( 将dev分支合并到master分支上 )          
6, 删除dev分支```git branch -d dev```

- 查看远程分支
```
git branch -r
```
- 查看所有分支（远程+本地）
```
git branch -a
```
- 创建分支
```
git branch <branchName>

```
- 创建并切换到该分支
```
git branch -b <branchName>
```
- 删除分支
```
git branch -d <branchName>
```
- 删除远程分支
```
git remote origin --delete  dev
```


## git pull 
:fish:  相信你在学习前面的团队协作时一定遇到了，push时显示 **当前分支过期** 的情况    
> 这是因为你在修改时，远程的分支已经被其他程序员修改了，你本地就不是最新的版本了
这时需要使用```git pull```将远程分支拉取到本地再push，所以大多数人上班第一件事是 ```git pull ``` 将远程代码拉取到本地，然后再开发(最好创建新分支，开发完成后再合并)，在提交前又得```git pull```一次，这是为了在提交前使得版本最新。


```
git pull <远程主机名> <远程分支名>:<本地分支名>

// 如果远程分支是与当前分支合并，则冒号后面的部分可以省略。
// 例： git pull origin master
```
- git pull 与 git fetch
git pull = git fetch + git merge


## git push 
```git push```命令用于将本地分支的更新，推送到远程主机。它的格式与```git pull```命令相仿。
```
git push <远程主机名> <本地分支名>:<远程分支名>
```
:tropical_fish:


## git reset 和 git revert 
有时候我们后面修改代码后可能会有bug，这时候需要回退为原来的版本，就可以使用git reset 和 git revert 
- [Git恢复之前版本的两种方法reset、revert（图文详解）](https://blog.csdn.net/yxlshk/article/details/79944535)