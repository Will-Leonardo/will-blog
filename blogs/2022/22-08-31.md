---
title:  前端知识 - 日常笔记
date: 2022-08-31
categories: 
 - 基础知识
---
<Boxx type='tip' />

## 什么是自定义hook？

> 在 Vue 应用的概念中，“组合式函数” (Composables) 是一个利用 Vue 组合式 API 来封装和复用**有状态逻辑的函数**


## JavaScript中的this

参考文章： [再也不怕面试官问我this了](https://juejin.cn/post/7137329574920552484)

1.  普通函数的this是动态绑定的，谁调用this指向谁

```js
function fn() {
  console.log(this)
}

// fn()  === window.fn()
fn()//window  

```

```js
function fn1() {
  console.log(this)
}
let obj = {
  fn1:fn1
}
obj.fn1()//obj
```

这里其实是 ```window.fn2()```
```js
function fn1() {
  console.log(this)
}

let obj = {
  fn1:fn1
}

let fn2 = obj.fn1
fn2()//window
```

2. this的丢失问题

定时器里面是一个函数，这个函数是直接调用的，不是obj调用的，因此this是window

```js
const obj = {
  a:1,
  fn1:function(){
    console.log(this.a)
  },
  fn2:function(){
    setTimeout(function(){
      console.log(this.a)
    }, 1000);
  }
}
var a = 2
obj.fn1()//1
obj.fn2()//2
```

```js
const obj = {
  fn:function(){
    console.log(this)
  }
}
setTimeout(obj.fn,1000)//window
```

```js
 //简写
 setTimeout(obj.fn,1000)
 
 //还原后，其实是将obj.fn传递给了参数fn。所以fn它是单独调用，fn函数内部永远指向window
 setTimeout((fn) => {
   fn()
 }, timeout);

```

> 还是看参考文章吧，写得蛮好，哈哈哈哈， 

