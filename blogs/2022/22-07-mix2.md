---
title:  Ts 挑战
date: 2022-07-14
categories: 
 - TypeScript
---
<Boxx type='tip' />


## hello world

```Ts
type helloWorld = string
```

## InstanceType

```InstanceType<T>``` 是 ts 自带的类型， 能够直接获取组件完整的实例类型

```vue{5,6}
<script setup lang='ts'>
import ChildVue from './childVue.vue'
import { ref } from 'vue'

type ChildRefInstance = InstanceType<typeof ChildVue>
const childRef = ref<ChildRefInstance | null>(null);

const handleClick = ()=>{
  childRef.value?.updateChildData();
}
</script>

```

## 函数重载

在看vueuse源码的时候看到很多函数的重载，思考到我在js中没用用过重载；嘿嘿；

### 为什么javascript没有重载？

- java： 是可以用**方法签名**来唯一确定一个方法。所谓方法签名包括：方法名、参数类型和参数顺序、参数个数这几个要素。所以，如果两个方法名称相同，但是只要其他要素(例如参数类型、参数个数)不同，编译器就会认为是不同方法。从而可以存在同名的不同方法，导致了重载现象
- JavaScript：函数（或对象方法）完全靠函数名称唯一确定，，JS不将参数列表作为区分函数的依据。更关键的是，在JS中，函数是作为一种特殊对象类型存在的，函数的名字只是一个普通的变量，本质与var a ；中的变量a没什么区别。所以如果你先后定义了两个同名函数，实际上相当于先后将两个函数对象绑定到了同一个变量上，所以后者必然覆盖前者，不会共存，也自然不存在重载了；   ----  **JavaScript函数没有签名**

```js
function test1(num) {
  return num + 10;
}

function test1(num) {  // 配置了eslint将报错  'test1' is already defined
  return num + 20;
}

console.log(test1(10)); // 30

```

js 因为是动态类型，本身不需要支持重载，直接对参数进行类型判断即可，但是ts为了保证类型安全，支持了函数签名的类型重载

