---
title:  算法 - 整数反转
date: 2021-07-07
categories: 
 - 算法
---
<Boxx type='tip' />

## 题目
给你一个 32 位的有符号整数 x ，返回将 x 中的数字部分反转后的结果。

如果反转后整数超过 32 位的有符号整数的范围 [−231,  231 − 1] ，就返回 0。
 
```
示例 1：

输入：x = 123
输出：321
```

## 答案：
1，暴力解法：
- 将数字的每一位存储在数组中
- 判断数组的第一个元素是不是'-'，从而区分正负数
- 如果是正数，先翻转，再转为数字，然后判断是否越界；如果是负数，先移除数组的第一个元素'-'，先翻转，再转为数字，然后判断是否越界；

```js
var reverse = function(x) {
    let arr = x.toString().split('')
    let num

    // 正数
    if (arr[0] !== '-') {
        num = Number(arr.reverse().join(""))
        return range(num)
    } else {
        arr.shift()
        num = Number(arr.reverse().join(""))
        return range(-num)
    }
};

let range = (num) => {
        if (num >= (-Math.pow(2, 31)) && num <= (Math.pow(2, 31) - 1)) {
            return num
        } else {
            return 0
        }
}
```

2，数学方法：参考链接 [整数反转](https://leetcode-cn.com/problems/reverse-integer/solution/zheng-shu-fan-zhuan-qu-zheng-yun-suan-by-6bw2/)
整体思路就是遍历（x / 10）数字x，每次拿数字的个位（x % 10），直到拿完。
每次遍历都将x的个位 拼接到result的新腾出的个位上（result = result * 10 + (x % 10);）

**技巧：** ~~取整

::: details ~按位取反
~按位取反

对于整数相当于取反减一
```
~0 === -1
~1 === -2
~-1 === 0
~-2 === 1
```
对于小数相当于舍去小数位再取反减一

```
~0.3 === -1
~1.7 === -2
~-0.3 === -1
~-1.2 === 0
~-2.9 === 1
```
~~按位取反再取反

对于整数还是自身

```
~~1 === 1
~~-1 === -1
~~0 === 0
```
对于小数，等于舍去小数位
相当于正数向下取整，负数向上取整
```

~~1.1 === 1
~~1.9 === 1
~~-1.1 === -1
~~-1.9 === -1
```

【技巧】Math.floor()向下取整
Math.floor() 是向下取整
```
Math.floor(1.1) === 1
Math.floor(1.9) === 1
Math.floor(-1.1) === -2
Math.floor(-1.9) === -2
```

:::
```js
var reverse = function(x) {
    let res = 0;
    while (x) {
        res = res * 10 + x % 10;
        if (res > Math.pow(2, 31) - 1 || res < Math.pow(-2, 31)) return 0;
        x = ~~(x / 10);
    }
    return res;
};

```
