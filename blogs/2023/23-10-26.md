---
title: ElementPlusç»„ä»¶æºç å­¦ä¹ 
date: 2023-10-23
categories: 
 - ElementPlus
---
<Boxx type='tip' />


## ts ç±»å‹è°“è¯ is çš„ç”¨æ³•

```js
export const isUndefined = (val: any): val is undefined => val === undefined
export const isBoolean = (val: any): val is boolean => typeof val === 'boolean'
export const isNumber = (val: any): val is number => typeof val === 'number'
```

ä¸Šé¢è¿™æ®µä»£ç æ˜¯æˆªå–çš„æºç çš„ä¸€å°æ®µä»£ç ï¼Œ`val is undefined` è¿™ç§æ˜¯ä»€ä¹ˆå†™æ³•å‘¢ï¼Ÿä¸æˆ‘ä»¬è¾ƒå¤šä½¿ç”¨çš„ `as` æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ `is`æ“ä½œç¬¦ç”¨äºç±»å‹å®ˆå«ï¼Œç”¨äºåœ¨è¿è¡Œæ—¶æ£€æŸ¥ç±»å‹ï¼›`as`æ“ä½œç¬¦ç”¨äºç±»å‹æ–­è¨€ï¼Œç”¨äºåœ¨ç¼–è¯‘æ—¶å‘Šè¯‰ç¼–è¯‘å™¨æŸä¸ªå€¼çš„å…·ä½“ç±»å‹ã€‚

`is`ï¼šå¸®åŠ©æˆ‘ä»¬å®ç°è‡ªå®šä¹‰ç±»å‹åˆ¤æ–­æ–¹æ³•çš„**ç±»å‹æ”¶çª„**ï¼Œ ç‰¹åˆ«æ˜¯éå†…ç½®ç±»å‹æ—¶éœ€è¦ï¼›


ä¸¾ä¸ªğŸŒ°

```js
type Student = {
  id: string
  name: string
  classRoom: string
}

type Teacher = {
  id: string
  name: string
  officeRoom: string
}

type RoomMan = Student | Teacher

const isStudent = (person: RoomMan): person is Student => {
  return 'classRoom' in person
}
```

- is çš„ä½¿ç”¨

```js
function isString(value: unknown): value is string {
  return typeof value === 'string';
}

function processValue(value: unknown) {
  if (isString(value)) {
    // åœ¨è¿™é‡Œï¼Œvalueè¢«ç±»å‹æ”¶çª„ä¸ºstringç±»å‹
    console.log(value.toUpperCase());
  } else {
    console.log('Value is not a string');
  }
}

```

- as çš„ä½¿ç”¨

```js
let value: unknown = 'Hello World';
let length: number = (value as string).length;
```

å‚è€ƒé˜…è¯»ï¼š
- [ts ç±»å‹è°“è¯ is çš„ç”¨æ³•](https://barwe.cc/2022/08/22/ts-is)
- [typescript çš„ is ç±»å‹è°“è¯æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ](https://www.zhihu.com/question/560309372)

## avatarç»„ä»¶

`avatar` ç»„ä»¶ä½¿ç”¨ shape å’Œ size å±æ€§æ¥è®¾ç½® Avatar çš„å½¢çŠ¶å’Œå¤§å°ï¼Œæ”¯æŒä½¿ç”¨å›¾ç‰‡ï¼Œå›¾æ ‡æˆ–è€…æ–‡å­—ä½œä¸º Avatar

### srcset 

```html
<img
  v-if="(src || srcSet) && !hasLoadError"
  :src="src"
  :alt="alt"
  :srcset="srcSet"
  :style="fitStyle"
  @error="handleError"
/>
```

## backtop

è¿”å›é¡µé¢é¡¶éƒ¨çš„æ“ä½œæŒ‰é’®

```html
<transition :name="`${ns.namespace.value}-fade-in`">
  <div
    v-if="visible"
    :style="backTopStyle"
    :class="ns.b()"
    @click.stop="handleClick"
  >
    <slot>
      <el-icon :class="ns.e('icon')"><caret-top /></el-icon>
    </slot>
  </div>
</transition>
```

### transitionç»„ä»¶

vueå†…ç½®ç»„ä»¶ï¼Œæ”¯æŒnameè‡ªå®šä¹‰è¿‡æ¸¡åŠ¨ç”»ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯ `el-fade-in` åŠ¨ç”»

```css
.#{$namespace}-fade-in-enter-active,
.#{$namespace}-fade-in-leave-active {
  transition: all getCssVar('transition-duration') cubic-bezier(0.55, 0, 0.1, 1);
}
.#{$namespace}-fade-in-enter-from,
.#{$namespace}-fade-in-leave-active {
  opacity: 0;
}
```

![p1](https://cn.vuejs.org/assets/transition-classes.f0f7b3c9.png)


###  useBackTop

è¿™æ˜¯ä¸€ä¸ªç»å…¸çš„vue3 çš„ç»„åˆå¼apiå†™æ³•çš„æ¡ˆä¾‹ï¼Œå°†æ•°æ®å’Œå¤„ç†æ•°æ®çš„ä¸€äº›é€»è¾‘åˆ†è£…åœ¨ä¸€ä¸ªuseå‡½æ•°ä¸­ï¼›

```ts {20}
<script lang="ts" setup>
import { computed } from 'vue'
import { ElIcon } from '@element-plus/components/icon'
import { CaretTop } from '@element-plus/icons-vue'
import { useNamespace } from '@element-plus/hooks'
import { backtopEmits, backtopProps } from './backtop'
import { useBackTop } from './use-backtop'

const COMPONENT_NAME = 'ElBacktop'

defineOptions({
  name: COMPONENT_NAME,
})

const props = defineProps(backtopProps)
const emit = defineEmits(backtopEmits)

const ns = useNamespace('backtop')

const { handleClick, visible } = useBackTop(props, emit, COMPONENT_NAME)

const backTopStyle = computed(() => ({
  right: `${props.right}px`,
  bottom: `${props.bottom}px`,
}))
</script>
```

### 