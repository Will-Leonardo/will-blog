---
title:  日常学习笔记
date: 2023-02-14
categories: 
 - 日常笔记
---
<Boxx type='tip' />

## Vue3+Ts 项目中 定义 ref 实例 的类型

先看下面一段代码


<iframe src='https://sfc.vuejs.org/#eNqVUrFSwzAM/RWdlyZca5e1pAUOGFkYmLyERG1TEttnOwWul39HsdNSysGVTZaenp6lt2O3xvBti2zGMlfYynhw6FsDda5W85F3o4VUVWO09XC3ruryuUVYWt3AiItiSPQEowNsBxaX0A2oWJKq0Mp5CB1PVJ73oCTd59e5Kmu8q6vilUpJOl/spIIDnG/zusVr3poy9xh03Oc+T9IrqTqpMhGlk1R6eGxMTTB6AWRltQ0BhQf9NHou2Z5cskUm9rU99qX1Xiu4KXpJBD4SSPgIAoh6hhYRe+JYEedm4khN5vxHjQCu0AbLUA2ZBRuzuLtJkxu+cVrROcIC5FBwks0gZPoc7bR/kyrvjZsJ4ZZFf4ON49quBEXctspXDXJ0zeTF6jeHloglGx9xCEpu0U4sqhIt2r84T6A/eHtaukRHXzl2xTm2Cn4ZQ4nLSuHDu9EOf3OPpl+RP4J3pgfznLjim4H6jugeSj/mfs0LrOokRJZuqpskvbicTlMITpL0vS8ZSeA4oSccTT7XdGEZdLrdIL6jIf+2R/cJYt9DCQ==' width='100%' height='500px' frameborder="1">

</iframe>

### 发现问题

在ts中将报错，因为在` app.vue `中的 定义的 `childRef `实例并不存在 `updateChildData()`方法;


### 解决方案

```InstanceType<T>``` 是 ts 自带的类型， 能够直接获取组件完整的实例类型

```vue{5,6}
<script setup lang='ts'>
import ChildVue from './childVue.vue'
import { ref } from 'vue'

type ChildRefInstance = InstanceType<typeof ChildVue>
const childRef = ref<ChildRefInstance | null>(null);

const handleClick = ()=>{
  childRef.value?.updateChildData();
}
</script>

```



## todo 

1. Vue sfc 在我的博客里面可以写个组件， 用 details 包一下、src等、宽高设置、去掉头